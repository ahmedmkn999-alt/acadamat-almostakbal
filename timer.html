<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù„Ù…Ù„Ù Ø§Ù„Ø´Ø®ØµÙŠ | FULL MARK</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@700;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        body { background: #020617; color: white; font-family: 'Cairo', sans-serif; display: flex; align-items: center; justify-content: center; height: 100vh; margin: 0; overflow: hidden; }
        .stars-container { position: fixed; inset: 0; z-index: -1; background: radial-gradient(circle at 50% 50%, #1e1b4b 0%, #020617 100%); }
        .glass-card { background: rgba(15, 23, 42, 0.8); backdrop-filter: blur(20px); border: 1px solid rgba(99, 102, 241, 0.3); border-radius: 30px; width: 90%; max-width: 400px; padding: 40px; text-align: center; box-shadow: 0 0 30px rgba(99, 102, 241, 0.2); }
        .clock { font-size: 3rem; font-weight: 900; color: #6366f1; text-shadow: 0 0 20px rgba(99, 102, 241, 0.5); margin: 20px 0; }
        .btn-back { background: linear-gradient(135deg, #6366f1, #d946ef); width: 100%; padding: 15px; border-radius: 15px; font-weight: bold; margin-top: 20px; cursor: pointer; }
    </style>
</head>
<body>
    <div class="stars-container" id="starsBox"></div>
    <div class="glass-card">
        <div class="w-24 h-24 bg-indigo-500 rounded-full mx-auto mb-4 border-4 border-fuchsia-500 p-1">
            <img src="https://cdn-icons-png.flaticon.com/512/4140/4140048.png" class="rounded-full">
        </div>
        <h2 id="name" class="text-2xl font-black mb-1 text-white">Ø¬Ø§Ø±ÙŠ Ø§Ù„ØªØ­Ù…ÙŠÙ„...</h2>
        <p id="section" class="text-indigo-400 text-sm mb-6 uppercase tracking-widest">Ø§Ù„Ø´Ø¹Ø¨Ø© Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©</p>
        
        <div class="text-xs text-gray-500 uppercase tracking-widest">Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø­Ø§Ù„ÙŠ</div>
        <div id="clock" class="clock">00:00:00</div>
        
        <button onclick="history.back()" class="btn-back">Ø§Ù„Ø¹ÙˆØ¯Ø© Ù„Ù„Ø¯Ø±Ø§Ø³Ø© ğŸš€</button>
    </div>

    <script>
        // Ø³Ø§Ø¹Ø© Ø±Ù‚Ù…ÙŠØ©
        function updateClock() {
            const now = new Date();
            document.getElementById('clock').innerText = now.toLocaleTimeString('ar-EG');
        }
        setInterval(updateClock, 1000);

        // Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
        async function loadProfile() {
            const firebaseConfig = { databaseURL: "https://fullmark-2025-default-rtdb.firebaseio.com" };
            firebase.initializeApp(firebaseConfig);
            const db = firebase.database();
            const code = localStorage.getItem('activeCode');
            const snap = await db.ref('approvedStudents/' + code).once('value');
            if(snap.exists()){
                document.getElementById('name').innerText = snap.val().studentName;
                document.getElementById('section').innerText = snap.val().section;
            }
        }
        loadProfile();
    </script>
</body>
</html>
